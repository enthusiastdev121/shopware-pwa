var composables=function(e,t,n){"use strict";n=n&&n.hasOwnProperty("default")?n.default:n;const a={endpoint:"https://shopware-2.vuestorefront.io/sales-channel-api/v1",accessToken:"SWSCMUDKAKHSRXPJEHNOSNHYAG",contextToken:"",defaultPaginationLimit:10};let o={};!function(e={}){o=Object.assign(o,a,e)}();const s=function(e){o=Object.assign(o,e)},c=o;const r=n.create({});function u(){r.defaults.baseURL=c.endpoint,r.defaults.headers.common["sw-access-key"]=c.accessToken,c.contextToken?r.defaults.headers.common["sw-context-token"]=c.contextToken:delete r.defaults.headers.common["sw-context-token"]}u(),r.interceptors.response.use((function(e){return function(e={}){s(e),u(),p()}({contextToken:e.headers["sw-context-token"]}),e}),(async function(e){throw e}));const i=e=>`/product/${e}`,l=()=>"/vsf/page";var f,d;async function E(e,t=null){return(await r.get(i(e),{params:t})).data.data}!function(e){e[e.ONE=1]="ONE",e[e.FIVE=5]="FIVE",e[e.TEN=10]="TEN",e[e.TWENTY_FIVE=25]="TWENTY_FIVE",e[e.FIFTY=50]="FIFTY",e[e.SEVENTY_FIVE=75]="SEVENTY_FIVE",e[e.HUNDRED=100]="HUNDRED",e[e.FIVE_HUNDRED=500]="FIVE_HUNDRED"}(f||(f={})),function(e){e.PRODUCT="product",e.CREDIT="credit",e.CUSTOM="custom",e.PROMOTION="promotion"}(d||(d={}));const h=[];function p(){h.forEach(e=>e({config:c}))}return e.useCms=()=>{const e=t.ref(!1),n=t.ref(null),a=t.ref(null);return{page:n,loading:e,search:async t=>{e.value=!0;try{const a=await async function(e,t){return(await r.post(l(),{path:e})).data}(t);return n.value=a,a}catch(e){a.value=e,console.error("Problem with fetching data",e.message)}finally{e.value=!1}},error:a}},e.useProduct=e=>{const n=t.ref(!1),a=t.ref(e),o=t.ref(null);return{product:a,loading:n,search:async e=>{n.value=!0;try{const t=await E(e);return a.value=t,t}catch(e){o.value=e,console.error("Problem with fetching data",e.message)}finally{n.value=!1}},error:o,loadAssociations:async e=>{n.value=!0;try{const t=await E(a.value.id,e);a.value=t}catch(e){o.value=e,console.error("Problem with fetching data",e.message)}finally{n.value=!1}}}},e}({},compositionApi,axios);
